const filter=$query("#filter"),data=$query("neo-datavisualizer");function exec({patch:e,print:t}){return[{name:"reference",text:$trans("Reference"),headStyle:{textAlign:"center"},bodyStyle:function(e){return{...bgdate(e),textAlign:"center"}},bodyPdfStyle:function(e){return this.bodyStyle(e)},headPdfStyle:function(){return this.headStyle}},{name:"vehicle",text:$trans("Vehicle"),bodyStyle:function(e){return bgdate(e)},bodyPdfStyle:function(e){return this.bodyStyle(e)},bodyRender:e=>e.vehicle?$capitalize($trans(e.vehicle.brand))+" "+$capitalize($trans(e.vehicle.model))+" "+e.vehicle.year+" ("+e.vehicle.registration_number+")":empty(),bodyPdfRender:function(e){return this.bodyRender(e)},bodyCsvRender:function(e){return this.bodyRender(e)}},{name:"renter",text:$trans("Renter"),bodyStyle:function(e){return bgdate(e)},bodyPdfStyle:function(e){return this.bodyStyle(e)},bodyRender:e=>e.agency?`<div>${$capitalize($trans("Agency"))}: ${$capitalize(e.agency.name)}</div>`:e.client?`<div>${$capitalize($trans("Client"))}: ${e.client.last_name.toUpperCase()+" "+$capitalize(e.client.first_name)}</div>`+(e.sclient?`<div>${$capitalize($trans("Secondary client"))}: ${e.sclient.last_name.toUpperCase()+" "+$capitalize(e.sclient.first_name)}</div>`:""):void 0,bodyPdfRender:function(e){return this.bodyRender(e)},bodyCsvRender:e=>e.agency?`${$capitalize($trans("Agency"))}: ${$capitalize(e.agency.name)}`:e.client?`${$capitalize($trans("Client"))}: ${e.client.last_name.toUpperCase()+" "+$capitalize(e.client.first_name)}`+(e.sclient?`, ${$capitalize($trans("Secondary client"))}: ${e.sclient.last_name.toUpperCase()+" "+$capitalize(e.sclient.first_name)}`:""):void 0},{name:"pickup",text:$trans("Pickup"),bodyStyle:function(e){return bgdate(e)},bodyPdfStyle:function(e){return this.bodyStyle(e)},bodyRender:e=>e.pickup_location?`<div>${$capitalize($trans("Date"))}: ${$moment(e.pickup_date,$core.format+" hh:MM A")}</div><div>${$capitalize($trans("Location"))}: ${$capitalize(e.pickup_location)}</div>`:$moment(e.pickup_date,$core.format+" hh:MM A"),bodyPdfRender:function(e){return this.bodyRender(e)},bodyCsvRender:e=>e.pickup_location?`${$capitalize($trans("Date"))}: ${$moment(e.pickup_date,$core.format+" hh:MM A")}, ${$capitalize($trans("Location"))}: ${$capitalize(e.pickup_location)}`:$moment(e.pickup_date,$core.format+" hh:MM A")},{visible:!1,name:"dropoff",text:$trans("Dropoff"),bodyStyle:function(e){return bgdate(e)},bodyPdfStyle:function(e){return this.bodyStyle(e)},bodyRender:e=>e.dropoff_location?`<div>${$capitalize($trans("Date"))}: ${$moment(e.dropoff_date,$core.format+" hh:MM A")}</div><div>${$capitalize($trans("Location"))}: ${$capitalize(e.dropoff_location)}</div>`:$moment(e.dropoff_date,$core.format+" hh:MM A"),bodyPdfRender:function(e){return this.bodyRender(e)},bodyCsvRender:e=>e.dropoff_location?`${$capitalize($trans("Date"))}: ${$moment(e.dropoff_date,$core.format+" hh:MM A")}, ${$capitalize($trans("Location"))}: ${$capitalize(e.dropoff_location)}`:$moment(e.dropoff_date,$core.format+" hh:MM A")},{name:"rental_period_days",text:$trans("Rental period"),headStyle:{textAlign:"center"},bodyStyle:function(e){return{...bgdate(e),textAlign:"center"}},bodyPdfStyle:function(e){return this.bodyStyle(e)},bodyRender:e=>e.rental_period_days+" "+$trans("Days"),headPdfStyle:function(){return this.headStyle},bodyPdfRender:function(e){return this.bodyRender(e)},bodyCsvRender:function(e){return this.bodyRender(e)}},{visible:!1,name:"mileage",text:$trans("Mileage"),headStyle:{textAlign:"center"},bodyStyle:function(e){return{...bgdate(e),textAlign:"center"}},bodyPdfStyle:function(e){return this.bodyStyle(e)},bodyRender:e=>e.mileage+" "+$trans("Km"),headPdfStyle:function(){return this.headStyle},bodyPdfRender:function(e){return this.bodyRender(e)},bodyCsvRender:function(e){return this.bodyRender(e)}},{visible:!1,name:"fuel_level",text:$trans("Fuel level"),headStyle:{textAlign:"center"},bodyStyle:function(e){return{...bgdate(e),textAlign:"center"}},bodyPdfStyle:function(e){return this.bodyStyle(e)},bodyRender:e=>$money(+e.fuel_level,2)+" %",headPdfStyle:function(){return this.headStyle},bodyPdfRender:function(e){return this.bodyRender(e)},bodyCsvRender:function(e){return this.bodyRender(e)}},{name:"status",text:$trans("Status"),headStyle:{textAlign:"center"},bodyStyle:function(e){return{...bgdate(e),textAlign:"center"}},bodyPdfStyle:function(e){return this.bodyStyle(e)},bodyRender:e=>$capitalize($trans(e.status)),headPdfStyle:function(){return this.headStyle},bodyPdfRender:function(e){return this.bodyRender(e)},bodyCsvRender:function(e){return this.bodyRender(e)}},{name:"action",text:$trans("Actions"),headStyle:{width:20,textAlign:"center"},bodyStyle:function(e){return{...bgdate(e),width:20,textAlign:"center"}},bodyPdfStyle:function(e){return this.bodyStyle(e)},bodyRender:n=>`<action-tools blank="true" target="${n.id}" patch="${e}" print="${t}"></action-tools>`,headPdfStyle:function(){return this.headStyle},bodyPdfRender:()=>empty(),bodyCsvRender:()=>empty()}]}filter.addEventListener("change",e=>{TableVisualizer(data,exec,{search:$routes[e.detail.data?"filter":"entire"]})}),TableVisualizer(data,exec,{search:$routes.filter});